'''
Helper script: re-order the string count features
'''
import ConfigParser
import numpy as np
import sys
import os
import csv

filecount = 0
train_label = []
path_data = Config.get("Train","feature_save")
path_label = Config.get("Train","label")
path_save = Config.get("Train","model")

label_count = 0      
with open(path_label) as f:
    for line in f:
        label_count+=1
        line = line.split(".")
        train_label.append(line[0].strip()) 

data_name = []
data = []
header = []

linecount = 0
with open(os.path.join(path_data,"strCount.csv")) as ic:
    for line2 in ic:
        linecount += 1
        if(linecount==1):
            pass
        else:
            import_data = line2.split(",")
            data_name = import_data[0]
            data.append(import_data[1])


label_idx = 0
writecount = 0
for label_idx in range(len(train_label)):
    name = train_label[label_idx]
    idx = data_name.index(name)
    to_write = data[idx]
    print("Lenth: "+ str(len(to_write)))

    with open(os.path.join(path_save,"organized_strCounts.csv"),'wb+') as f:
        w = csv.writer(f)
        w.writerow(to_write)
        writecount+=1
    print("Finish organizing: "+str(writecount)+" "+name + " "+data_name[idx])
    label_idx+=1
    
